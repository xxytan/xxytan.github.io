<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>用Termux部署Hexo</title>
      <link href="/archives/1/"/>
      <url>/archives/1/</url>
      
        <content type="html"><![CDATA[<div class="note simple"><p>此篇文章结合网络上的方法已经我个人的一些经验撰写，可能有些许不足，请谅解</p></div><p><em>正文开始</em></p><hr><h2 id="安装并部署Termux环境"><a href="#安装并部署Termux环境" class="headerlink" title="安装并部署Termux环境"></a>安装并部署Termux环境</h2><h3 id="安装Termux"><a href="#安装Termux" class="headerlink" title="安装Termux"></a>安装Termux</h3><ul><li>可以使用 <a class="btn-anzhiyu blue outline" href="https://github.com/termux/termux-app/releases/latest"   title="官方的Termux"><span>官方的Termux</span></a></li><li>或第三方的类似于 <a class="btn-anzhiyu green outline" href="https://github.com/hanxinhao000/ZeroTermux/releases/latest"   title="Zero Termux"><span>Zero Termux</span></a> （以此做演示）</li></ul><p>打开后授予权限，</p><div class="note warning flat"><p>如果您是非ROOT用户，<strong><u>强烈建议您使用ZeroTermux进行下列步骤</u></strong>，否则后期编辑配置文件会很困难（当然你如果要是会命令行编辑，用官方版的也行）</p></div><h3 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h3><p>其目的是在国内提高下载速度（挂着加速器可以无需进行此步）</p><p>在命令框输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">termux-change-repo</span><br></pre></td></tr></table></figure><p>并回车，此时会出现<img src="https://img.224322.xyz/file/blog/1/1.png" alt="1.这样的界面"></p><div class="note primary flat"><p><em>我们可以使用右下角的方向按钮操控，也可以直接用手点</em></p></div><p>选择第二个选项，便会出现<img src="https://img.224322.xyz/file/blog/1/2.png" alt="2.这样的界面"><br><em>如果您英文很好，那么可以根据右边的注释来选择，</em> 如果看不懂，那么直接无脑<strong>选带有<code>tuna</code>字样</strong>的，这是清华大学的镜像源</p><p>换完源之后，我们就可以进行</p><h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><p>在命令框输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install</span><br></pre></td></tr></table></figure><p>更新一下软件包库，然后再输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install nodejs</span><br></pre></td></tr></table></figure><p><strong>或者</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install nodejs-lts</span><br></pre></td></tr></table></figure><div class="note info flat"><p><em>这俩的区别就是一个是<strong>稳定版</strong>，一个是<strong>长期版</strong></em></p></div><p>如果顺利的话，接下来过程中无论停在那里都输入<code>y</code>并回车，安装结束后就可以进行</p><h3 id="安装Git和OpenSSH"><a href="#安装Git和OpenSSH" class="headerlink" title="安装Git和OpenSSH"></a>安装Git和OpenSSH</h3><p>其目的是能让Termux能正常连接到Github并将Hexo部署到Github Pages</p><p>在命令框输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkg install git&amp;&amp;openssh</span><br></pre></td></tr></table></figure><p>依旧停顿就按<code>y</code>，安装完后再进行配置：</p><h4 id="配置Git"><a href="#配置Git" class="headerlink" title="配置Git"></a>配置Git</h4><p>输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name 你的Github用户名; git config --global user.email 你的Github绑定邮箱</span><br></pre></td></tr></table></figure><div class="note default flat"><p>没有Github账号可以先<a href="https://github.com/signup">注册</a></p></div><h4 id="配置公钥"><a href="#配置公钥" class="headerlink" title="配置公钥"></a>配置公钥</h4><p>输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C 你的Github绑定邮箱</span><br></pre></td></tr></table></figure><p>连续按三次回车，运行结束后再输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>把输出的一大长串全部复制，并保存，<strong>后面会用到</strong></p><h2 id="部署Hexo框架"><a href="#部署Hexo框架" class="headerlink" title="部署Hexo框架"></a>部署Hexo框架</h2><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>先输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ..</span><br></pre></td></tr></table></figure><p>再输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p>等待他安装完成，然后再输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure><p>命令运行结束后<code>/data/data/com.termux/files/</code>下就会有一个名为<code>blog</code>的文件夹，这个文件夹就储存着Hexo的必备文件了</p><h4 id="如果您是"><a href="#如果您是" class="headerlink" title="如果您是"></a>如果您是</h4><div class="tabs" id="如果您是"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="如果您是-1">ROOT用户</button><button type="button" class="tab " data-href="如果您是-2">非ROOT用户</button></ul><div class="tab-contents"><div class="tab-item-content active" id="如果您是-1"><p>那么您可以直接使用MT管理器访问 <code>/data/data/com.termux/files/blog</code>来快速查看和编辑配置文件</p></div><div class="tab-item-content" id="如果您是-2"><p>您就不能直接使用MT管理器访问<code>blog</code>文件夹，这时您就可以在ZeroTermux的设置中<img src="https://img.224322.xyz/file/blog/1/3.png" alt="3.通过向右划或按音量➕打开该菜单"><br>依次点击<code>安装/还原Termux官方软件</code>–<code>(Zero)Utermux File Plug</code>–<code>确定</code>，稍等片刻便会开始安装质感文件<br>安装完成后打开，点击左上角三横线，你就会看到<code>访问Utermux文件</code><img src="https://img.224322.xyz/file/blog/1/4.jpg" alt="4.e.g"><br>点击它你就能看到<code>blog</code>文件夹，这样就能轻松的查看并编辑配置文件了</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><h3 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h3><p>输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>运行后会反出一个4000端口的本地地址（localhost:4000），我们在浏览器打开它，不出所料，你就能看到<img src="https://img.224322.xyz/file/blog/1/5.png" alt="5.这样的页面"><br>这就说明你的<strong>Hexo已经部署成功了！</strong></p><p><mark>下面是一些<strong>常用的操作命令</strong></mark></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post 文章名字</span><br></pre></td></tr></table></figure><p>创建一篇新文章，文章名字可自取，文件在<code>*/source/_posts</code>下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl</span><br></pre></td></tr></table></figure><p>清理前一次生成的文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>以当前的文件配置生成网页</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>生成本地预览网页，端口默认为4000</p><div class="note info flat"><p>后三条命令均为缩写，具体请查看<a href="https://hexo.io/zh-cn/docs/">官方文档</a></p></div><div class="note warning flat"><p>由于各个主题的不同，所以这里不对安装主题做任何讲解，具体请查看官方文档或查阅资料</p></div><h2 id="部署Hexo到Github-Pages"><a href="#部署Hexo到Github-Pages" class="headerlink" title="部署Hexo到Github Pages"></a>部署Hexo到Github Pages</h2><div class="note default flat"><p>此步骤俗话讲就是将博客能让除自己以外的其他人也能访问你的博客，只不过Github Pages在国内容易被墙，<br>当然后续也可以通过再次部署到Cloudflare Pages再绑定到自己的域名来解决这个问题</p><p><mark>关于域名这块</mark>可以去买一个便宜的<code>.xyz</code>域名，一年大概也就5块，<br><strong>如果0预算</strong>的话可以去<u><strong>申请一个免费域名</strong></u>，具体请看零度大佬的<a href="https://www.bilibili.com/video/BV13pGJzpEpT/">这期视频</a></p></div><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>登录<a href="https://gtihub.com/">Github</a>，创建一个仓库，如果是新账号那么主页会有一个<code>Create repository</code>，点它<br>仓库名称就填 你的用户名+<code>.github.io</code><img src="https://img.224322.xyz/file/blog/1/6.png" alt="6.像这样"><br>再点击<code>Create repository</code>创建仓库</p><p>接着打开账户设置，找到<code>SSH and GPG keys</code><img src="https://img.224322.xyz/file/blog/1/7.png" alt="7.e.g"><br>再按照下面👇的图片填<img src="https://img.224322.xyz/file/blog/1/8.png" alt="8.e.g"><br>最后点<code>Add SSH key</code>添加公钥</p><p>然后我们回到Termux，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>运行结束后如果出现类似于<img src="https://img.224322.xyz/file/blog/1/9.png" alt="9.这样"><br>的提示，说明已经成功连接到Github了</p><p>接下来我们要配置一下Hexo的配置文件：<br>打开<code>blog</code>目录下的<code>_config.xml</code>，滑到最底部，添加一些文字，像<img src="https://img.224322.xyz/file/blog/1/10.png" alt="10.这样"><br>然后保存，至此，我们的配置就搞定啦🎉</p><h3 id="部署-1"><a href="#部署-1" class="headerlink" title="部署"></a>部署</h3><p>返回Termux，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>静静等待Hexo被推送到Github仓库，出现<code>done</code>提示后就说明推送完成，然后稍微等待一会儿，在访问 你的用户名➕<code>.github.io</code> 就能成功打开博客啦😋<img src="https://img.224322.xyz/file/blog/1/11.jpeg" alt="11.嘻嘻"></p><h2 id="再部署到CloudFlare-Pages上"><a href="#再部署到CloudFlare-Pages上" class="headerlink" title="再部署到CloudFlare Pages上"></a>再部署到CloudFlare Pages上</h2><h3 id="部署-2"><a href="#部署-2" class="headerlink" title="部署"></a>部署</h3><p>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表盘</a>，没有账号就注册一个，<br>然后找到<code>计算 (Workers)</code><img src="https://img.224322.xyz/file/blog/1/12.png" alt="12.这个"><br>再点右上角的<code>创建</code>，然后选<code>Pages</code>–<code>导入现有的 Git 存储库</code><img src="https://img.224322.xyz/file/blog/1/13.png" alt="13.开始使用🤨"><br>下一个页面选<code>连接到 Github</code>，然后用你的Github账号授权一下</p><p>再返回来，选择自己相应的仓库，然后直接点<code>开始设置</code><img src="https://img.224322.xyz/file/blog/1/14.png" alt="14.e.g"><br>下一个页面，直接点<code>保持并部署</code>，静静的等待它部署完成😠</p><p>部署完成后会给你个链接（以.pages.dev结尾，点进去就和前面部署到Github是的网页一模一样的<img src="https://img.224322.xyz/file/blog/1/15.jpeg" alt="15.哇欧！"></p><h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><p>回到Cloudflare Pages页面，上方有个<code>自定义域</code>，点进去跟着向导走，就能成功把你的博客绑定到你的域名</p><hr><p><em>正文结束</em></p><div class="note success flat"><p>这是我第一次用markdown写文章，可能排版有点丑💩可能有一些不全，但想到会补上的，得看我什么时候想到了😁</p></div>]]></content>
      
      
      <categories>
          
          <category> 安卓 </category>
          
          <category> Termux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Termux </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
